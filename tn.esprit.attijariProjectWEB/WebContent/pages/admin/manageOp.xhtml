
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="/template/template.xhtml">
	<ui:define name="title">GererUtilisateur</ui:define>
	<ui:define name="page">
		<h:form id="master">
		<p:menubar>
				<p:menuitem value="Acceuil"
					url="http://localhost:8182/tn.esprit.attijariProjectWEB/pages/admin/home.jsf"
					icon="ui-icon-extlink" />

				<p:submenu label="Utilisateurs" icon="ui-icon-search">
					<p:menuitem value="Gerer utilisateurs existants" url="http://localhost:8182/tn.esprit.attijariProjectWEB/pages/admin/manageOp.jsf" />
					<p:menuitem value="Ajouter utilisateurs"
						url="http://localhost:8182/tn.esprit.attijariProjectWEB/pages/admin/gererOperateur.jsf" />
					
					</p:submenu>

<p:submenu label="Actions" icon="ui-icon-search">
					
					<p:menuitem value="Ajouter Action"
						url="http://localhost:8182/tn.esprit.attijariProjectWEB/pages/admin/AjoutAction.jsf" />
					
<p:menuitem value="Gerer actions existantes" url="http://localhost:8182/tn.esprit.attijariProjectWEB/pages/admin/manageActions.jsf" />
</p:submenu>
				!<p:submenu label="Fiche de lacement" icon="ui-icon-search">
					<p:menuitem value="Gerer fiches existantes" url="http://localhost:8182/tn.esprit.attijariProjectWEB/pages/operateur/gererFiche.jsf" />
					<p:menuitem value="Ajouter fiche"
						url="http://localhost:8182/tn.esprit.attijariProjectWEB/pages/admin/AjoutFiche.jsf" />
					<p:menuitem value="xxxxxxxx" url="#" />

				</p:submenu>
				<p:submenu label="Traitement" icon="ui-icon-search">
					<p:menuitem value="Gerer les traitements existants"
						url="http://localhost:8182/tn.esprit.attijariProjectWEB/pages/operateur/traitement.jsf" />
					<p:menuitem value="Ajouter traitement"
						url="http://localhost:8182/tn.esprit.attijariProjectWEB/pages/admin/AjouterTraitement.jsf" />
					<p:menuitem value="xxxxxxxx" url="#" />

				</p:submenu>

				<p:submenu label="Planning" icon="ui-icon-search">
					<p:menuitem value="Ajouter Planning"
						url="http://localhost:8182/tn.esprit.attijariProjectWEB/pages/admin/AjoutPlanning.jsf" />
					<p:menuitem value="Gerer les planning existants"
						url="http://localhost:8182/tn.esprit.attijariProjectWEB/pages/operateur/Planning.jsf" />

					<p:menuitem value="xxxxxxxx" url="#" />

				</p:submenu>




				<p:menuitem value="Deconnecter"
					url="http://localhost:8182/tn.esprit.attijariProjectWEB/login.jsf" />
			</p:menubar>
<p>
		
		<p:fieldset legend=" Gerer les Utilisateurs">
			<p:dataTable value="#{userCtr.users}" var="act" paginator="true"
				paginatorPosition="bottom" widgetVar="prodTabW">

				<f:facet name="header">
					<h:outputText value="Liste d'utilisateurs" />
				</f:facet>
				
				<p:column headerText="Nom Utilisateur">
					<h:outputText value="#{act.firstName}" />
				</p:column>
				
				<p:column headerText="Prenom Utilisateur">
					<h:outputText value="#{act.lastName}" />
				</p:column>
				
				<p:column headerText="Matricule">
					<h:outputText value="#{act.matricule}" />
				</p:column>
			
			<p:column headerText="Mot de passe">
					<h:outputText value="#{act.password}" />
				</p:column>
				<p:column headerText="Mise a jour">
					<h:commandButton value="Mettre a jour">
						<f:setPropertyActionListener target="#{userCtr.user}"
							value="#{act}"></f:setPropertyActionListener>
					</h:commandButton>
				</p:column>

			</p:dataTable>

<p>

<p:fieldset legend=" Inserer les nouvelles donnees">
<h:panelGrid columns="8" cellpadding="30">  
				 <p><h:graphicImage library="images" name="update.png"  style=" width : 200px;"/></p>
			<h:panelGrid rendered="#{userCtr.displayForm}" columns="2" bgcolor="#BBFFFF">
				
				<h:outputText value="Nom Utilisateur" />
				<h:inputText value="#{userCtr.user.firstName}" />
				<h:outputText value="Prenom Utilisateur" />
				<h:inputText value="#{userCtr.user.lastName}" />
				<h:outputText value="Matricule" />
				<h:inputText value="#{userCtr.user.matricule}" />
				<h:outputText value="Mot de passe" />
				<h:inputText value="#{userCtr.user.password}" />

			</h:panelGrid>
			</h:panelGrid>
			</p:fieldset>
			</p>
			</p:fieldset>
			</p>
			<p>
			<p:commandButton value="Enregister "
				action="#{userCtr.doUpdate()}"></p:commandButton>
				</p>
		</h:form>

	</ui:define>
</ui:composition>
